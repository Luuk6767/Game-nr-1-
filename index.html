<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<title>Gruvarbetar Clicker</title>
<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(180deg, #1e1e1e, #2d2d2d);
    color: white;
    text-align: center;
}

h1 {
    margin-top: 20px;
    color: gold;
    text-shadow: 0 0 15px orange;
}

.container {
    max-width: 900px;
    margin: auto;
    padding: 20px;
}

button {
    padding: 10px 20px;
    margin: 8px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
    transition: 0.2s;
}

button:hover {
    transform: scale(1.05);
}

.mineBtn {
    background: #444;
    font-size: 22px;
    padding: 20px 40px;
}

.baseBtn {
    background: #0066cc;
}

.shopBtn {
    background: darkgreen;
}

.stats {
    background: rgba(255,255,255,0.1);
    padding: 15px;
    border-radius: 12px;
    margin-top: 15px;
}

.popup {
    position: absolute;
    font-weight: bold;
    animation: floatUp 1s ease-out forwards;
}

@keyframes floatUp {
    0% {opacity: 1; transform: translateY(0);}
    100% {opacity: 0; transform: translateY(-50px);}
}
</style>
</head>
<body>

<h1>â›ï¸ Gruvarbetar Clicker</h1>

<div class="container">

<div id="navigation">
    <button class="baseBtn" onclick="goBase()">ğŸ  Bas</button>
    <button class="baseBtn" onclick="goMine()">â›ï¸ Gruva</button>
</div>

<div class="stats">
    ğŸ’° Pengar: <span id="money">0</span><br>
    ğŸª¨ Kol: <span id="coal">0</span> |
    â›“ï¸ JÃ¤rn: <span id="iron">0</span> |
    ğŸ’ Diamant: <span id="diamond">0</span><br>
    ğŸ’ Lager: <span id="storage">0</span>/<span id="capacity">20</span><br>
    ğŸª“ Hacka: <span id="pickaxeName">TrÃ¤-hacka</span>
</div>

<div id="mineArea" style="display:none;">
    <button class="mineBtn" onclick="mine()">HUGG â›ï¸</button>
    <p id="mineMessage"></p>
</div>

<div id="baseArea">
    <h2>Butik</h2>
    <button class="shopBtn" onclick="sellAll()">SÃ¤lj alla resurser</button><br>
    <button class="shopBtn" onclick="buyPickaxe(1)">KÃ¶p JÃ¤rn-hacka (200)</button><br>
    <button class="shopBtn" onclick="buyPickaxe(2)">KÃ¶p Diamant-hacka (1000)</button><br>
    <button class="shopBtn" onclick="upgradeStorage()">Uppgradera Lager (+10) (300)</button>
</div>

</div>

<script>
let player = {
    money: 0,
    coal: 0,
    iron: 0,
    diamond: 0,
    storage: 0,
    capacity: 20,
    pickaxeLevel: 0
};

const pickaxes = [
    {name: "TrÃ¤-hacka", multi: 1, bonusIron: 0, bonusDiamond: 0},
    {name: "JÃ¤rn-hacka", multi: 2, bonusIron: 5, bonusDiamond: 0},
    {name: "Diamant-hacka", multi: 3, bonusIron: 5, bonusDiamond: 10}
];

function updateUI() {
    document.getElementById("money").innerText = player.money;
    document.getElementById("coal").innerText = player.coal;
    document.getElementById("iron").innerText = player.iron;
    document.getElementById("diamond").innerText = player.diamond;
    document.getElementById("storage").innerText = player.storage;
    document.getElementById("capacity").innerText = player.capacity;
    document.getElementById("pickaxeName").innerText = pickaxes[player.pickaxeLevel].name;
}

function goMine() {
    document.getElementById("mineArea").style.display = "block";
    document.getElementById("baseArea").style.display = "none";
}

function goBase() {
    document.getElementById("mineArea").style.display = "none";
    document.getElementById("baseArea").style.display = "block";
}

function mine() {
    if (player.storage >= player.capacity) {
        document.getElementById("mineMessage").innerText = "âš ï¸ Lagret Ã¤r fullt!";
        return;
    }

    let pickaxe = pickaxes[player.pickaxeLevel];

    for (let i = 0; i < pickaxe.multi; i++) {

        if (player.storage >= player.capacity) break;

        let rand = Math.random() * 100;

        let diamondChance = 10 + pickaxe.bonusDiamond;
        let ironChance = 30 + pickaxe.bonusIron;

        if (rand < diamondChance) {
            player.diamond++;
            showPopup("ğŸ’ Diamant!");
        } else if (rand < diamondChance + ironChance) {
            player.iron++;
            showPopup("â›“ï¸ JÃ¤rn!");
        } else {
            player.coal++;
            showPopup("ğŸª¨ Kol!");
        }

        player.storage++;
    }

    updateUI();
}

function sellAll() {
    let earned = player.coal * 5 + player.iron * 15 + player.diamond * 50;
    player.money += earned;
    player.coal = 0;
    player.iron = 0;
    player.diamond = 0;
    player.storage = 0;
    updateUI();
}

function buyPickaxe(level) {
    if (level === 1 && player.money >= 200 && player.pickaxeLevel < 1) {
        player.money -= 200;
        player.pickaxeLevel = 1;
    }
    if (level === 2 && player.money >= 1000 && player.pickaxeLevel < 2) {
        player.money -= 1000;
        player.pickaxeLevel = 2;
    }
    updateUI();
}

function upgradeStorage() {
    if (player.money >= 300) {
        player.money -= 300;
        player.capacity += 10;
        updateUI();
    }
}

function showPopup(text) {
    let popup = document.createElement("div");
    popup.className = "popup";
    popup.innerText = text;
    popup.style.left = (window.innerWidth / 2 + Math.random()*100 - 50) + "px";
    popup.style.top = (window.innerHeight / 2) + "px";
    document.body.appendChild(popup);

    setTimeout(() => popup.remove(), 1000);
}

updateUI();
</script>

</body>
</html>
